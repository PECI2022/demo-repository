{% extends 'base.html' %}

{% block title %} My Projects {% endblock %}

{% block aditionalHead %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
<style>

.modal-content {
  margin-top: 10px;
}



</style>
{% endblock %}

{% block content %}
    <div class="container my-1">
        <br>
        <h6 style="text-align:center;color: #343335">Now you can access, freely, to our DataBases and Create and dealing with your own Projects</h6>
        <br>
        <div class="container my-5">
            <div href="newProject" id="projectsHere" style="display:flex;">
                <h1 class="mtext-white">My Projects</h1>
                       <!-- Button trigger modal -->
                  <button type="button" class="btn btn-light" style="margin-left: auto;background-color: white; border-color: grey;" data-toggle="modal" data-target="#newProject">
                    New Project
                  </button>

                <div class="modal fade" id="newProject" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="overlay"></div>
                        <div class="modal-header">
                          <h5 class="modal-title">New Project</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <form>
                            <div class="form-group">
                              <label for="name">Name</label>
                              <input type="text" class="form-control" id="name" placeholder="Enter name">
                            </div>
                            <div class="form-group">
                              <label for="description">Description</label>
                              <textarea class="form-control" id="description" placeholder="Enter description"></textarea>
                            </div>
                            <div class="form-group">
                              <label for="model">Base Model</label>
                              <select class="form-control" id="model">
                                <option value="model1">Linear regression model</option>
                                <option value="model2">Decision tree model</option>
                                <option value="model3">Logistic regression model</option>
                              </select>
                            </div>
                            <div class="form-group">
                              <label for="option">Category</label>
                              <div class="form-check">
                                <input class="form-check-input" type="radio" name="option" id="gestures" value="gestures" checked>
                                <label class="form-check-label" for="gestures">
                                  Video
                                </label>
                              </div>
                              <div class="form-check">
                                <input class="form-check-input" type="radio" name="option" id="audio" value="audio">
                                <label class="form-check-label"
                              <div class="form-check">
                                <input class="form-check-input" type="radio" name="option" id="gestures" value="gestures" checked>
                                <label class="form-check-label" for="gestures">
                                  Video
                                </label>
                              </div>
                              <div class="form-check">
                                <input class="form-check-input" type="radio" name="option" id="audio" value="audio">
                                <label class="form-check-label" for="audio">
                                  Audio
                                </label>
                              </div>
                            </div>
                          </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-primary" onclick="newProjectGo()">Save changes</button>
                        </div>
                    </div>
                </div>
                

                
            </div>
     </div>
            <hr class="mbg-white border-3 opacity-100" style="border-color: #eee;">
        
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
                <div class="col">
                    <div class="card h-100" >
                        <div class="card-body">
                            <h3 class="card-title" >Project #1</h5>
                            <p class="card-text">Five most common hand gestures</p>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted">Last updated 23 hours ago</small>
                        </div>
                        <a onclick="location.href=generateLink(document.querySelector('h3'))">
                            <span class="span-link"></span>
                        </a>
                    </div>
                </div>
                <div class="col">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="card-title">Gesture_1</h5>
                            <p class="card-text">Detects if a person is dancing</p>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted">Last updated 6 days ago</small>
                        </div>
                        <a onclick="location.href=generateLink(document.querySelectorAll('h3')[document.querySelectorAll('h3').length-3])">
                            <span class="span-link"></span>
                        </a>
                    </div>
                </div>
                <div class="col">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="card-title">My Note</h3>
                            <p class="card-text">A note about my day.</p>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted">Last updated 3 days ago</small>
                        </div>
                        <a onclick="location.href=generateLink(document.querySelectorAll('h3')[document.querySelectorAll('h3').length-2])">
                            <span class="span-link"></span>
                        </a>
                    </div>
                </div>
                
                  
                <div class="col">
                    <div class="card h-100">
                      <div class="card-body">
                        <h3 class="card-title">AudioCheck</h3>
                        <p class="card-text">Detects sadness throw voice.</p>
                      </div>
                      <div class="card-footer">
                        <small class="text-muted">Last updated 2 month ago</small>
                      </div>
                      <a onclick="location.href=generateLinkAudio(document.querySelectorAll('h3')[document.querySelectorAll('h3').length-1])">
                        <span class="span-link"></span>
                      </a>
                    </div>
                  </div>
                  
                  
                  
                      
            </div>
        
        
        
        <br>
        <br>

        <div class="container my-5">
            <div style="display:flex;">
                <h1 class="mtext-white">DataBase</h1>
                
            </div>
            <hr class="mbg-white border-3 opacity-100" style="border-color: #eee;">
        
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
                <div class="col">
                    <div class="card h-100" >
                        <div class="card-body">
                            <h3 class="card-title" >DataBase</h5>
                            <p class="card-text">Here you can find, download, use dataSets from our DB</p>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted">Last updated 24 hours ago</small>
                        </div>
                        <a onclick="location.href='browse'">
                            <span class="span-link"></span>
                        </a>
                    </div>
                </div>
        </div>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>


        <button onclick="topFunction()" id="scrollBtn" title="Go to top"></button>



        <script>
            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("scrollBtn").style.display = "block";
            } else {
                document.getElementById("scrollBtn").style.display = "none";
            }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
            document.body.scrollTop = 0; // For Safari
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            }

            
            
            function generateLink(element) {
              const projectName = 'editor';
              const formattedTitle = element.textContent.toLowerCase().replace(/\\s+/g, '-');
              return `${projectName}?project=${formattedTitle}`;
            }


            function generateLinkAudio(element) {
              const projectName = 'voice';
              const formattedTitle = element.textContent.toLowerCase().replace(/\\s+/g, '-');
              return `${projectName}?project=${formattedTitle}`;
            }

            // example usage
            const title = document.getElementById('title').textContent;
            const link = document.getElementById('link');
            link.href = generateLink('editor', title);


            function newProjectGo() {
              // TODO, make an API request to delete the account from the backend
              window.location.href = "/project/acquisition/video";
              alert("Project Created! You will be redirected to the project page!");
            }

        </script>

    

    </div>

</div>
{% endblock %}